# JavaScript文法 ①

## はじめに
オライリーから出版されている「JavaScript 第7版」をもとに、JavaScript の文法をまとめてキャッチアップするためのチートシートを作成しました。

URL: https://amzn.asia/d/gYeHNna

## JavaScriptとは何か - 要約ポイント
1. プログラミング言語の一つ
   - 主にウェブブラウザ上で動作し、動的でインタラクティブなウェブページを作成するために使用される。
2. 主にクライアントサイドで動作
   - ユーザーのブラウザ内で直接実行されるコードを提供し、サーバーの負荷を軽減する。
3. イベント駆動型プログラミング
   - ボタンのクリックやキーボード入力などのイベントに応じてコードが実行される。
4. プロトタイプベースのオブジェクト指向
   - クラスではなくプロトタイプを使ってオブジェクトを作成・継承する特徴を持つ。
5. 動的型付け言語
   - 変数に格納される値の型が実行時に決定され、型変換も柔軟に行われる。
6. シンプルな構文
   - 他の言語と比べて学習曲線が緩やかで、初学者でも取り組みやすい。
7. ブラウザ互換性の重要性
   - JavaScriptコードは、異なるウェブブラウザ間で一貫した動作を保証するために慎重に設計される必要がある。
8. 非同期処理が可能
   - コールバック、プロミス、そして非同期関数（async/await）を用いて効率的に非同期タスクを処理できる。
9. モジュール性
   - ES6以降、importとexportを使用してコードを分割し再利用性を高めるモジュールシステムが導入された。
10. エコシステムの広がり
    - フロントエンドだけでなく、Node.jsを利用してサーバーサイドでも使われ、幅広いアプリケーション開発に対応可能。

## コメント文について

``` javascript
// コメントの書き方
// スラッシュ文字が2つ並んだ後の文字は全てコメントになる

// コメントはコードに説明を追加するために使用する。
// コメントはプログラムの実行には影響しない。
// コメントには2種類ある（単一行コメントと複数行コメント）。

// 単一行コメントは、// で始まり、その行の終わりまでがコメントになる。
// 単一行コメントはインラインコメントとも呼ばれる。
// 例えば、以下のように使用する。
let x  // xの変数宣言 // これは単一行コメント。

/*
複数行コメントは、/* で始まり、* / で終わる。
このコメントは複数行にわたることができる。
*/
```

## 変数宣言と代入

``` javascript
// 変数は値に付けられる記法的な名前。
// 変数を宣言するときには、letキーワードを使う。
let x;             // xという名前の変数を宣言する。

// 変数に値を代入するときには、「=」記号を使う。
x = 0;             // これで変数xの値は0になる。
x                  // => 0: 変数が評価され、代入された値になる。

// JavaScript はさまざまな型をサポートしている。
x = 1;             // 数値。
x = 0.01;          // 整数も実数も同じ数値型になる。
x = "hello world"; // 文字列は引用符で囲む。
x = 'JavaScript';  // 文字列は単一引用符でも囲める。
x = true;          // 論理値（真理値）。
x = false;         // もう一つの論理値。
x = null;          // nullは特殊な値で、「値がない」ことを意味する。
x = undefined;     // undefinedは、null と同じく特殊な値。

// 定数宣言
// 変数の値が変更されないようにするには、constキーワードを使う。
const y = 10;      // yという名前の定数を宣言し、値を10に設定する。
y = 20;            // エラー: 定数の値は変更できない。
```

## オブジェクト

``` javascript
// オブジェクトと配列
// JavaScriptの中で一番重要なデータ型はオブジェクト。
// オブジェクトは名前と値のペア、つまり、値に文字列を対応付けたものの集合。
let book = {                   // オブジェクトは波括弧で囲む。
  topic: "JavaScript",         // topicプロパティは"JavaScript"という値を持つ。
  edition: 7                   // editionプロパティは7という値を持つ。
};                             // 波括弧でオブジェクトの最後を表す。

// オブジェクトのプロパティには、ドット記法「.」か、ブラケット記法「[]」を使ってアクセスできる。
book.topic                     // => "JavaScript"
book["edition"]                // => 7: この方法でもプロパティの値にアクセスできる。
book.author = "Flanagan";      // 代入すると、新しいプロパティが作られる。
book.contents = {};            // {}は何もプロパティをもたない空のオブジェクトを表す。

// 条件付きでプロパティにアクセスするときは?を使う（ES2020）。
book.contents?.ch01?.sect1     // => undefined: book.contentsにch01プロパティが存在しない。
```

## 配列

``` javascript
// JavaScriptは配列（数値でインデックスされたリスト）もサポート。
let primes = [2, 3, 5, 7];     // 4つの値を持つ配列。「[」と「]」で囲む。
primes[0]                      // => 2: 配列の最初の要素（インデックス0）。
primes[1]                      // => 3: 配列の2番目の要素（インデックス1）。
primes.length                  // => 4: 配列の要素数
primes[primes.length-1]        // => 7: 配列の最後の要素。
primes[4] = 9;                 // 代入すると、新しい要素が追加される。
primes[4] = 11;                // 既存の要素の場合は、値が置き換わる。
let empty = [];                // []は何も要素を持たない空の配列を表す。
empty.length                   // => 0

// 配列やオブジェクトには、別の配列やオブジェクトを格納できる。
let points = [                 // 2つの要素を持つ配列。
  {x: 0, y: 0},                // 各要素はオブジェクト。
  {x: 1, y: 1}
];
let data = {                   // 2つのプロパティを持つオブジェクト。
  trial1: [[1, 2], [3, 4]],    // 各プロパティの値は配列。
  trial2: [[2, 3], [4, 5]]     // その配列の要素もまた配列。
};
```

## 演算子

``` javascript
// 演算子
// 演算子は値（オペランド）を処理して、新しい値を生成する。
// 一般的なのは算術演算子。
3 + 2                      // => 5: 加算
3 - 2                      // => 1: 減算
3 * 2                      // => 6: 乗算
3 / 2                      // => 1.5: 除算
points[1].x - points[0].x  // => 1 (1+0): オペランドが複雑でも問題ない。
"3" + "2"                  // => "32": +は数値の場合は加算、文字列の場合は連結。

// JavaScriptには算術演算子を短縮表記する方法が定義されている。
let count = 0;    // 変数を定義して初期化する。
count++;          // 変数をインクリメントする（count = count + 1 と同じ。）
count--;          // 変数をデクリメントする（count = count - 1 と同じ。）
count += 2;       // 2を加算する。（count = count + 2; と同じ。）
count *= 3;       // 3を乗算する。（count = count * 3; と同じ。）
count             // => 6: 変数名も式。

// 等値演算子や関係演算子は、それぞれ2つの値が等しいか、大小関係にあるかを判定する。
// trueまたはfalseを返す。
let x = 2, y = 3;   // この等号は代入。等しいかどうかを調べているのではない。
x === y             // => false: 同値を評価。
x !== y             // => true: 非同値を評価。
x < y               // => true: 小なり
x <= y              // => true: 小なりイコール
x > y               // => false: 大なり
x >= y              // => false: 大なりイコール
"two" === "three"   // => false: 2つの文字列は異なる。
"two" > "three"     // => true: 文字列の比較は辞書順。（"tw"は、アルファベット順では、"th"より後）
false === (x > y)   // => true: falseはfalseと等しい。

// 論理演算子は、論理値を組み合わせたり反転させたりする。
(x === 2) && (y === 3)   // => true: 両方の比較がtrue。&&はANDを表す。（論理積（AND））
(x > 3) || (y < 3)       // => false: どちらかの比較がtrue。||はORを表す。（論理和（OR））
!(x === y)               // => true: !はNOTを表す。（論理否定（NOT））
```